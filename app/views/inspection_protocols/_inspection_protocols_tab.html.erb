<div id="tab_inspection_protocols">
  <fieldset class="my-fieldset">
    <legend class="my-fieldset colored-title"><%= subtitle %>&nbsp;&nbsp;-&nbsp;&nbsp;<%= inspection_protocol_index_legend %></legend>

    <div class="row">

      <div class="col-sm-12">
        <table id="inspectionable-inspection_protocols" width="100%" class="hover cell-border compact" width="100%" 
          data-source="<%= datatables_index_inspection_protocols_path(inspectionable_type: inspectionable.class.to_s, inspectionable_id: inspectionable.id.to_s, format: :json) %>">
          <thead>
            <tr>
              <th>0 ID </th>
              <th><%= InspectionProtocol.human_attribute_name(:attached_file) %></th>
              <th><%= InspectionProtocol.human_attribute_name(:note) %></th>
              <th><%= InspectionProtocol.human_attribute_name(:user_id) %></th>
              <th><%= InspectionProtocol.human_attribute_name(:updated_at) %></th>
              <th><%= InspectionProtocol.human_attribute_name(:file_size) %></th>
              <th></th>
            </tr>
          </thead>
          <tbody>                    
            <!--data from JSON -->
          </tbody>
        </table>
      </div> <!--/col-sm-12 -->


      <div class="col-sm-3">
        <hr>
        <%= form_for [inspectionable, InspectionProtocol.new] do |f| %>

          <div class="row">
            <div class="form-group col-sm-12">
              <%= f.label :attached_file, class: 'control-label' %><small>&nbsp;&nbsp;(<%= t('help_block_text.fileuploaddragdrop') %>)</small><br>
              <%= f.file_field :attached_file, multiple: true, name: "inspection_protocol[attached_file]", class: 'form-control input input-file-field' %>
            </div>

          </div>

        <% end %>
      </div> <!-- /col-sm-3 -->
      <div class="col-sm-9">
        <hr>
        <div class="row">
          <div class="col-sm-12 center">
            <div id="inspection_protocol_file_preview_area"></div>
          </div>
        </div>
      </div> <!-- /col-sm-9 -->


      <div class="col-sm-12">
        <script id="inspection_protocol-template-upload" type="text/x-tmpl">

          <div class="upload" id="{%=o.name%}_id_file">
            <div>{%=o.name%}</div> 
            <div class="progress">
              <div class="progress-bar progress-bar-success" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div>
            </div>
          </div>

        </script>
      </div> <!-- /col-sm-12 -->


    </div>

  </fieldset>
</div>

