<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <h3 class="center">
        <span class="fa fa-flag colored-title" aria-hidden="true"></span>
        <span class="index-title"><%= t "pages.business_trip.index.title" %></span>
      </h3>
    </div> <!--/col-sm-12 -->
  </div> <!--/row -->
</div> <!--/container -->

<div class="container-fluid">
  <div class="row">
    <div class="col-sm-12">
      <table id="business_trips-table" class="hover cell-border" cellspacing="0" width="100%" 
        data-source="<%= datatables_index_business_trips_path(format: :json) %>">
        <thead>
          <tr>
            <th>id</th>
            <th><%= BusinessTrip.human_attribute_name(:number) %></th>
            <th><%= BusinessTrip.human_attribute_name(:employee) %></th>
            <th><%= BusinessTrip.human_attribute_name(:start_date) %></th>
            <th><%= BusinessTrip.human_attribute_name(:end_date) %></th>
            <th><%= BusinessTrip.human_attribute_name(:destination) %></th>
            <th><%= BusinessTrip.human_attribute_name(:purpose) %></th>
            <th><%= BusinessTrip.human_attribute_name(:business_trip_status) %></th>
          </tr>
        </thead>
        <tfoot style='display: none;'>
          <tr>
            <th></th> <!-- id 0-->
            <th> <!-- number 1-->
              <%= text_field_tag :col1filter, params[:col1filter], id: 'col1filter', 'data-column' => "1", 
                    class: 'column_filter form-control input-sm', style: "width: 85%;" %>
            </th>
            <th> <!-- employe 2-->
              <%= text_field_tag :col2filter, params[:col2filter], id: 'col2filter', 'data-column' => "2", 
                    class: 'column_filter form-control input-sm', style: "width: 85%;" %>
            </th>
            <th> <!-- start_date 3-->
              <%= text_field_tag :col3filter, params[:col3filter], id: 'col3filter', 'data-column' => "3", 
                    class: 'column_filter form-control input-sm', style: "width: 85%;" %>
            </th>
            <th> <!-- end_date 4-->
              <%= text_field_tag :col4filter, params[:col4filter], id: 'col4filter', 'data-column' => "4", 
                    class: 'column_filter form-control input-sm', style: "width: 85%;" %>
            </th>
            <th> <!-- destination 5-->
              <%= text_field_tag :col5filter, params[:col5filter], id: 'col5filter', 'data-column' => "5", 
                    class: 'column_filter form-control input-sm', style: "width: 85%;" %>                
            </th>
            <th> <!-- purpose 6-->
              <%= text_field_tag :col6filter, params[:col6filter], id: 'col6filter', 'data-column' => "6", 
                    class: 'column_filter form-control input-sm', style: "width: 85%;" %>                
            </th>
            <th>  <!-- status 7-->
              <%= select( nil, "col7filter",
                    BusinessTripStatus.all.order(:id).collect {|v| [ "#{v[:name]}", "#{v[:name]}" ] },
                    { include_blank: true }, 
                    { autofocus: false, class: 'column_filter form-control input-sm', 'data-column' => "7", style: "width: 85px;" }) %>
              
            </th>
          </tr>
        </tfoot>

        <tbody>
           <!--data from JSON -->
        </tbody>
      </table>
    </div> <!--/col-sm-12 -->
  </div> <!--/row -->

  <div class="row">
    <div class="col-sm-12">
      <% if policy(:business_trip).new? %>
        <%= link_to new_business_trip_path, class: "btn btn-primary pull-right" do %>
          <span class="fa fa-plus"></span>
          <%= t("helpers.links.new") %>
        <% end %>
      <% end %>
    </div> <!--/col-sm-12 -->
  </div>


</div> <!--/container -->

